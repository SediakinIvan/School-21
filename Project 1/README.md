# Project1 - Классификация учебных материалов

Система классификации учебных материалов по предметам с использованием GigaChat API. Проект демонстрирует эволюцию от простого промпта до сложной системы с инструментами и структурированным выводом.

## Описание

Проект состоит из трех задач, каждая из которых представляет собой улучшенную версию предыдущей:

1. **project01_task01.py** - Базовая классификация с простым промптом
2. **project01_task02.py** - Структурированный вывод с Pydantic
3. **project01_task03.py** - Интеграция с инструментами для сохранения данных

## Функциональность

### Классификация по предметам
Система классифицирует учебные материалы по следующим предметам:
- **Численные методы**
- **Компьютерные сети** 
- **Программирование на Python**
- **Физика**
- **Другой предмет** (если не подходит ни к одному)

### Предопределенные ссылки
Система содержит базу предопределенных ссылок по каждому предмету для быстрой классификации.

## Технологии

- **Python 3.13+**
- **GigaChat API** - российская языковая модель
- **LangChain** - фреймворк для работы с LLM
- **Pydantic** - валидация и структурирование данных
- **JSON** - хранение результатов

## Установка

1. Создайте виртуальное окружение:
```bash
python -m venv venv
# Windows
venv\Scripts\activate
# Linux/Mac
source venv/bin/activate
```

2. Установите зависимости:
```bash
pip install langchain-gigachat langchain-core pydantic
```

3. Получите API ключ GigaChat:
   - Зарегистрируйтесь на [developers.sber.ru](https://developers.sber.ru/)
   - Создайте приложение и получите API ключ

4. Замените API ключ в файлах:
```python
API_KEY = "ваш_api_ключ_здесь"
```

## Использование

### Task 1 - Базовая классификация
```bash
python project01_task01.py
```

**Особенности:**
- Простой промпт для классификации
- Интерактивный ввод ссылок
- Вывод только названия предмета

**Пример использования:**
```
Введите промпт: https://stepik.org/course/67/promo
Программирование на python
```

### Task 2 - Структурированный вывод
```bash
python project01_task02.py
```

**Особенности:**
- Использование Pydantic для структурирования данных
- Автоматическое добавление даты
- JSON вывод результатов

**Пример вывода:**
```json
{
  "date": "2025-01-20",
  "subject": "Программирование на python",
  "link": "https://stepik.org/course/67/promo"
}
```

### Task 3 - Инструменты и сохранение
```bash
python project01_task03.py
```

**Особенности:**
- Интеграция с инструментами LangChain
- Автоматическое сохранение в JSON файл
- Обработка ошибок

**Структура данных:**
```json
[
  {
    "date": "2025-01-20",
    "subject": "Программирование на python", 
    "link": "https://stepik.org/course/67/promo"
  }
]
```

## Структура файлов

```
Project1/
├── project01_task01.py    # Базовая классификация
├── project01_task02.py    # Структурированный вывод
├── project01_task03.py    # Инструменты и сохранение
├── requests.json          # Файл с сохраненными данными (создается автоматически)
├── venv/                  # Виртуальное окружение
└── README.md             # Документация
```

## Настройка

### API ключ GigaChat
1. Зарегистрируйтесь на [developers.sber.ru](https://developers.sber.ru/)
2. Создайте новое приложение
3. Получите API ключ
4. Замените в коде:
```python
API_KEY = "ваш_ключ_здесь"
```

### Настройка промпта
Вы можете изменить системный промпт в переменной `system_prompt` для:
- Добавления новых предметов
- Изменения логики классификации
- Обновления списка предопределенных ссылок

## Примеры использования

### Классификация ссылки
```python
# Ввод
https://ru.pythontutor.ru/problem/old/1

# Вывод (Task 1)
Программирование на python

# Вывод (Task 2-3)
{
  "date": "2025-01-20",
  "subject": "Программирование на python",
  "link": "https://ru.pythontutor.ru/problem/old/1"
}
```

### Работа с предопределенными ссылками
Система автоматически распознает ссылки из базы данных и возвращает соответствующий предмет.

## Обработка ошибок

- **Неверный API ключ**: Проверьте правильность ключа
- **Проблемы с сетью**: Проверьте интернет-соединение
- **Ошибки JSON**: Файл `requests.json` будет пересоздан автоматически

## Развитие проекта

### Возможные улучшения:
1. **Веб-интерфейс** - создание веб-приложения
2. **База данных** - замена JSON на SQLite/PostgreSQL
3. **Аналитика** - статистика по классификации
4. **API** - REST API для интеграции
5. **Машинное обучение** - обучение собственной модели

## Логирование

Для отладки добавьте логирование:
```python
import logging
logging.basicConfig(level=logging.INFO)
```

## Вклад в проект

1. Форкните репозиторий
2. Создайте ветку для новой функции
3. Внесите изменения
4. Создайте Pull Request

## Лицензия

Образовательный проект. Используйте на свой страх и риск.
